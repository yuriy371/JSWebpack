(()=>{"use strict";(e=>{let t=document.getElementById("timer-hours"),l=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds"),a=e=>e<10?"0"+e:e,o=setInterval((()=>{let e=(()=>{let e=(new Date("31 december 2021").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();t.textContent=a(e.hours),l.textContent=a(e.minutes),r.textContent=a(e.seconds),e.timeRemaining<0&&(t.textContent=a(0),l.textContent=a(0),r.textContent=a(0),clearInterval(o))}),1e3)})(),(()=>{let e=document.querySelector(".menu"),t=document.querySelector("menu"),l=document.querySelector("a[href='#service-block']"),r=()=>{t.classList.toggle("active-menu")},a=e=>{let t=e.getAttribute("href").slice(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})};e.addEventListener("click",(e=>{e.target.closest(".menu")&&r()})),l.addEventListener("click",(e=>{e.preventDefault(),a(l)})),t.addEventListener("click",(e=>{let t=e.target;if(e.target.matches("ul>li>a"))e.preventDefault(),r(),a(t);else{if(!e.target.closest(".close-btn"))return;r()}}))})(),(()=>{let e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup"),l=document.documentElement.clientWidth;e.forEach((e=>{e.addEventListener("click",(()=>{let e=0;if(t.style.display="block",t.style.opacity=0,0==t.style.opacity){let r=setInterval((()=>{e>=1&&clearInterval(r),t.style.opacity=e,e+=.1}),40);l<768&&(clearInterval(r),t.style.opacity="")}}))})),t.addEventListener("click",(e=>{if(!e.target.closest(".popup-content")||e.target.classList.contains("popup-close")){let e=1;if(t.style.opacity=1,1==t.style.opacity){let r=setInterval((()=>{e<=.1&&(clearInterval(r),t.style.display="none"),t.style.opacity=e,e-=.1*e}),20);l<768&&(clearInterval(r),t.style.opacity="",t.style.display="none")}}}))})(),(()=>{let e=document.querySelectorAll(".calc-square"),t=document.querySelectorAll(".calc-count"),l=document.querySelectorAll(".calc-day"),r=document.querySelectorAll("#form1"),a=document.querySelectorAll("#form2"),o=document.querySelectorAll("#form3"),c=[...e,...t,...l],n=/[^\d]/g,u=/[^А-Я\s-]/gi,s=/[^\d()\-+]/g,d=e=>{e.value=e.value.replace(/\s+/," "),e.value=e.value.replace(/-+/,"-"),e.value=e.value.replace(/(^[\s\-]+)/g,"").replace(/[\s\-]+$/g,"")},i=e=>{u.test(e.value)||""===e.value?e.value=e.value.replace(u,""):(e.value=e.value[0].toUpperCase()+e.value.slice(1),console.log("кирилица"))},v=e=>{/^([A-Z\d_\-\.!~*'])+\@([A-Z\d])+\.([A-Z]{2,3})$/gi.test(e.value)&&""!==e.value?console.log("правельно"):e.value=""},m=e=>{s.test(e.value)||""===e.value?e.value=e.value.replace(s,""):console.log("Правельный телефон")};r.forEach((e=>{let t=e.querySelector(".form-btn"),l=e.querySelector(".form-name"),r=e.querySelector(".form-email"),a=e.querySelector(".form-phone");l.addEventListener("blur",(()=>{d(l),i(l)})),r.addEventListener("blur",(()=>{d(r),v(r)})),a.addEventListener("blur",(()=>{d(a),m(a)})),t.addEventListener("click",(e=>{e.preventDefault(),l.value="",r.value="",a.value=""}))})),a.forEach((e=>{let t=e.querySelector(".form-btn"),l=e.querySelector(".form-name"),r=e.querySelector(".form-email"),a=e.querySelector(".form-phone"),o=e.querySelector(".mess");l.addEventListener("blur",(()=>{d(l),i(l)})),o.addEventListener("blur",(()=>{d(o),i(o)})),r.addEventListener("blur",(()=>{d(r),v(r)})),a.addEventListener("blur",(()=>{d(a),m(a)})),t.addEventListener("click",(()=>{l.value="",r.value="",a.value="",o.value=""}))})),o.forEach((e=>{let t=e.querySelector(".form-btn"),l=e.querySelector(".form-name"),r=e.querySelector(".form-email"),a=e.querySelector(".form-phone");l.addEventListener("blur",(()=>{d(l),i(l)})),r.addEventListener("blur",(()=>{d(r),v(r)})),a.addEventListener("blur",(()=>{d(a),m(a)})),t.addEventListener("click",(()=>{l.value="",r.value="",a.value=""}))})),c.forEach((e=>{e.addEventListener("input",(()=>{n.test(e.value)&&(e.value=e.value.replace(n,""))}))}))})(),(()=>{let e=document.querySelectorAll(".service-tab"),t=document.querySelector(".service-header"),l=document.querySelectorAll(".service-header-tab");t.addEventListener("click",(t=>{if(t.target.closest(".service-header-tab")){let r=t.target.closest(".service-header-tab");l.forEach(((t,l)=>{t===r?(t.classList.add("active"),e[l].classList.remove("d-none")):(t.classList.remove("active"),e[l].classList.add("d-none"))}))}}))})(),((e,t,l,r="portfolio-item-active",a="dot-active")=>{let o,c=document.querySelector(e),n=document.querySelectorAll(t),u=document.querySelector(l),s=[],d=0,i=(e,t,l)=>{e[t].classList.remove(l)},v=(e,t,l)=>{e[t].classList.add(l)},m=()=>{i(n,d,r),i(s,d,a),d++,d>=n.length&&(d=0),v(n,d,r),v(s,d,a)},y=(e=1500)=>{o=setInterval(m,e)};"."===e[0]&&""!==e&&"."===t[0]&&""!==t&&(c.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(i(n,d,r),i(s,d,a),e.target.matches("#arrow-right")?d++:e.target.matches("#arrow-left")?d--:e.target.classList.contains("dot")&&s.forEach(((t,l)=>{e.target===t&&(d=l)})),d>=n.length&&(d=0),d<0&&(d=n.length-1),v(n,d,r),v(s,d,a))})),c.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(o)}),!0),c.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&y(2e3)}),!0),n.forEach(((e,t)=>{let l=document.createElement("li");l.className=0===t?`dot ${a}`:"dot",u.append(l),s.push(l)})),y(2e3))})(".portfolio-content",".portfolio-item",".portfolio-dots"),((e=100)=>{let t=document.querySelector(".calc-block"),l=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),a=document.querySelector(".calc-count"),o=document.querySelector(".calc-day"),c=document.getElementById("total");t.addEventListener("input",(t=>{t.target!==l&&t.target!==r&&t.target!==a&&t.target!==o||(()=>{let t=+l.options[l.selectedIndex].value,n=r.value,u=0,s=1,d=1;a.value>1&&(s+=+a.value/10),o.value&&o.value<5?d=2:o.value&&o.value<10&&(d=1.5),u=l.value&&r.value?e*t*n*s*d:0,c.textContent=u})()}))})(100)})();