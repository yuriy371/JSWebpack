(()=>{"use strict";(e=>{let t=document.getElementById("timer-hours"),l=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds"),n=e=>e<10?"0"+e:e,o=setInterval((()=>{let e=(()=>{let e=(new Date("31 december 2021").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();t.textContent=n(e.hours),l.textContent=n(e.minutes),r.textContent=n(e.seconds),e.timeRemaining<0&&(t.textContent=n(0),l.textContent=n(0),r.textContent=n(0),clearInterval(o))}),1e3)})(),(()=>{let e=document.querySelector(".menu"),t=document.querySelector("menu"),l=t.querySelector(".close-btn"),r=t.querySelectorAll("ul>li>a"),n=document.querySelector("a[href='#service-block']"),o=()=>{t.classList.toggle("active-menu")},a=e=>{let t=e.getAttribute("href").slice(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})};e.addEventListener("click",o),l.addEventListener("click",o),r.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),o(),a(e)}))})),n.addEventListener("click",(e=>{e.preventDefault(),a(n)}))})(),(()=>{let e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup"),l=t.querySelector(".popup-close"),r=document.documentElement.clientWidth;e.forEach((e=>{e.addEventListener("click",(()=>{let e=0;if(t.style.display="block",t.style.opacity=0,0==t.style.opacity){let l=setInterval((()=>{e>=1&&clearInterval(l),t.style.opacity=e,e+=.1}),40);r<768&&(clearInterval(l),t.style.opacity="")}}))})),l.addEventListener("click",(()=>{let e=1;if(t.style.opacity=1,1==t.style.opacity){let l=setInterval((()=>{e<=.1&&(clearInterval(l),t.style.display="none"),t.style.opacity=e,e-=.1*e}),20);r<768&&(clearInterval(l),t.style.opacity="",t.style.display="none")}}))})(),(()=>{let e=document.querySelectorAll(".calc-item"),t=document.querySelectorAll("#form1"),l=document.querySelectorAll("#form2"),r=document.querySelectorAll("#form3"),n=/[^\d]/g,o=/[^А-Я\s-]/gi,a=/[^\d()\-+]/g,c=e=>{e.value=e.value.replace(/\s+/," "),e.value=e.value.replace(/-+/,"-"),e.value=e.value.replace(/(^[\s\-]+)/g,"").replace(/[\s\-]+$/g,"")},u=e=>{o.test(e.value)||""===e.value?e.value=e.value.replace(o,""):(e.value=e.value[0].toUpperCase()+e.value.slice(1),console.log("кирилица"))},s=e=>{/^([A-Z\d_\-\.!~*'])+\@([A-Z\d])+\.([A-Z]{2,3})$/gi.test(e.value)&&""!==e.value?console.log("правельно"):e.value=""},i=e=>{a.test(e.value)||""===e.value?e.value=e.value.replace(a,""):console.log("Правельный телефон")};t.forEach((e=>{let t=e.querySelector(".form-btn"),l=e.querySelector(".form-name"),r=e.querySelector(".form-email"),n=e.querySelector(".form-phone");l.addEventListener("blur",(()=>{c(l),u(l)})),r.addEventListener("blur",(()=>{c(r),s(r)})),n.addEventListener("blur",(()=>{c(n),i(n)})),t.addEventListener("click",(e=>{e.preventDefault(),l.value="",r.value="",n.value=""}))})),l.forEach((e=>{let t=e.querySelector(".form-btn"),l=e.querySelector(".form-name"),r=e.querySelector(".form-email"),n=e.querySelector(".form-phone"),o=e.querySelector(".mess");l.addEventListener("blur",(()=>{c(l),u(l)})),o.addEventListener("blur",(()=>{c(o),u(o)})),r.addEventListener("blur",(()=>{c(r),s(r)})),n.addEventListener("blur",(()=>{c(n),i(n)})),t.addEventListener("click",(()=>{l.value="",r.value="",n.value="",o.value=""}))})),r.forEach((e=>{let t=e.querySelector(".form-btn"),l=e.querySelector(".form-name"),r=e.querySelector(".form-email"),n=e.querySelector(".form-phone");l.addEventListener("blur",(()=>{c(l),u(l)})),r.addEventListener("blur",(()=>{c(r),s(r)})),n.addEventListener("blur",(()=>{c(n),i(n)})),t.addEventListener("click",(()=>{l.value="",r.value="",n.value=""}))})),e.forEach((e=>{e.addEventListener("blur",(()=>{n.test(e.value)?e.value=e.value.replace(n,""):console.log("число")}))}))})()})();